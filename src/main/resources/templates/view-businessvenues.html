<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>BusinessVenues</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <script src="/js/bootstrap.bundle.min.js"></script>
  <style>
    .card-img-top { height: 200px; object-fit: cover; }
  </style>
</head>
<body class="bg-light">
  <div class="container py-5">
    <h2 class="mb-4">Available BusinessVenues</h2>

    <form class="row g-2 mb-3" th:action="@{/view-businessvenues}" method="get">
      <div class="col-md-6">
        <input name="q" class="form-control" placeholder="Search by name or location" th:value="${q}">
      </div>
      <div class="col-auto">
        <button class="btn btn-primary">Search</button>
      </div>
    </form>

    <div class="row g-4">
      <div class="col-12 col-sm-6 col-md-4 col-lg-3" th:each="b : ${businessvenuesPage.content}">
        <a th:href="@{'/business/details/' + ${b.slug}}" class="text-decoration-none text-dark">
          <div class="card h-100 shadow-sm">
            <img th:src="@{'/business/image/' + ${b.id}}" class="card-img-top" alt="businessvenue image"/>
            <div class="card-body">
              <h5 class="card-title" th:text="${b.name}">BusinessVenuePlace Name</h5>
			  <p class="card-text"><strong>Name: </strong><span th:text="${b.businessType}"></span></p>
              <p class="card-text"><strong>Location:</strong> <span th:text="${b.location}"></span></p>
			  <p class="card-text"><strong>Date: </strong> <span th:text="${b.venueStartDate}"></span></p>
			  
            </div>
          </div>
        </a>
      </div>
    </div>

    <!-- pagination -->
    <nav th:if="${businessvenuesPage.totalPages > 1}" class="mt-4">
      <ul class="pagination justify-content-center">
        <li class="page-item" th:classappend="${businessvenuesPage.first}? 'disabled'">
          <a class="page-link" th:href="@{/view-businessvenues(page=${businessvenuesPage.number - 1}, q=${q})}">Prev</a>
        </li>
        <li th:each="p : ${#numbers.sequence(0, businessvenuesPage.totalPages - 1)}" class="page-item" th:classappend="${p == businessvenuesPage.number}? 'active'">
          <a class="page-link" th:href="@{/view-businessvenues(page=${p}, q=${q})}" th:text="${p + 1}"></a>
        </li>
        <li class="page-item" th:classappend="${businessvenuesPage.last}? 'disabled'">
          <a class="page-link" th:href="@{/view-businessvenues(page=${businessvenuesPage.number + 1}, q=${q})}">Next</a>
        </li>
      </ul>
    </nav>

  </div>
</body>
</html>
